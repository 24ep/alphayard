# Boundary Developer Guild Document

Welcome to the Boundary project! This document serves as the comprehensive guide for developers contributing to the Boundary ecosystem. It covers architecture, setup, workflows, and best practices.

## 1. Project Overview

Boundary is a multi-platform application designed to [insert brief project description here]. It follows a monorepo structure managed by NPM Workspaces.

### Monorepo Structure

*   **/admin**: Administrative dashboard built with **Next.js**.
*   **/backend**: Core API service built with **Node.js, Express, and Prisma**.
*   **/mobile**: Cross-platform mobile app built with **React Native (Expo)**.
*   **/web**: User-facing web application built with **Next.js and Tailwind CSS**.
*   **/packages**: Shared internal libraries (utilities, UI kit, types, etc.).

## 2. Tech Stack

| Component | Technologies |
| :--- | :--- |
| **Backend** | Node.js, Express, PostgreSQL, Prisma ORM, Docker |
| **Admin** | Next.js, React, Tailwind CSS |
| **Web** | Next.js, React, Tailwind CSS |
| **Mobile** | React Native, Expo, TypeScript |
| **Infra** | Docker, Docker Compose |
| **Package Manager** | NPM (Workspaces) |

## 3. Getting Started

### Prerequisites

*   **Node.js**: v18+ (LTS recommended)
*   **NPM**: v9+
*   **Docker & Docker Compose**: For running the database and services.
*   **Git**: For version control.

### Installation

1.  **Clone the repository**:
    ```bash
    git clone <repository-url>
    cd boundary
    ```

2.  **Install dependencies**:
    ```bash
    npm install
    ```
    *This installs dependencies for the root and all workspaces.*

3.  **Environment Setup**:
    *   Copy the example environment file in the root:
        ```bash
        cp env.example .env
        ```
    *   Check individual workspaces (`backend`, `admin`, etc.) for their own `.env.example` files if applicable, though the root `.env` often drives the docker configuration.

### Running Infrastucture

Start the database and core services using Docker:

```bash
docker-compose up -d
```
*   **Postgres**: Available on port `5432` (default user/pass in `docker-compose.yml`).
*   **Redis/Other**: Check `docker-compose.yml` for details.

### Database Setup

Initialize the database schema with Prisma:

```bash
# Navigate to backend workspace
cd backend

# Generate Prisma Client
npx prisma generate

# Push schema to DB (Development)
npx prisma db push

# (Optional) Seed the database
npx prisma db seed
```

## 4. Running the Applications

You can run applications individually or all together.

### Run All (Root)
Scripts are defined in the root `package.json`.

```bash
# Start all services (requires configured script)
npm run dev:all
```

### Run Individually

| Application | Command | URL / Notes |
| :--- | :--- | :--- |
| **Admin** | `npm run dev:admin` | http://localhost:3000 |
| **Backend** | `npm run dev:backend` | http://localhost:4000 (API) |
| **Web** | `npm run dev:web` | http://localhost:3001 (check console) |
| **Mobile** | `npm run dev:mobile` | Expo Go / Simulator |

*Note: Check `package.json` scripts if port numbers differ.*

## 5. Development Workflow

### Git Conventions
*   **Branching**: Use descriptive feature branches.
    *   `feat/feature-name`
    *   `fix/bug-description`
    *   `chore/maintenance-task`
*   **Commits**: Write clear, concise commit messages.

### Coding Standards
*   **TypeScript**: Strict mode is enabled. Avoid `any` where possible. Define interfaces/types for all data structures.
*   **Linting**: Run strict lint checks before committing.
    ```bash
    npm run lint:all
    ```
*   **Formatting**: Use Prettier (if configured) to maintain consistent code style.

## 6. Project Specifics

### Backend (Prisma & Express)
*   **Schema**: Located at `backend/prisma/schema.prisma`.
*   **Migrations**: When changing the schema:
    1.  Edit `schema.prisma`.
    2.  Run `npx prisma db push` (dev) or `npx prisma migrate dev` (production-ready migrations).
    3.  Restart the backend to pick up the new Prisma Client.
*   **API Routes**: Located in `backend/src/routes`.

### Admin & Web (Next.js)
*   **Pages**: Follow Next.js App Router or Pages Router conventions (check `app/` or `pages/` directory).
*   **Styling**: detailed in `tailwind.config.js`.

### Mobile (Expo)
*   **Run on Device**: Scan the QR code generated by `npm run dev:mobile` with the Expo Go app.
*   **Simulators**: Press `i` for iOS Simulator or `a` for Android Emulator in the terminal window.

## 7. Troubleshooting

**Common Issues:**

*   **Database Connection Failed**:
    *   Ensure Docker is running (`docker ps`).
    *   Check `.env` `DATABASE_URL` matches Docker config.
    *   Check if port 5432 is occupied by another Postgres instance.

*   **Prisma Client Errors**:
    *   Run `npx prisma generate` in the `backend` folder after any schema change or `npm install`.

*   **Port Conflicts**:
    *   The scripts assume default ports (3000, 4000, etc.). If these are busy, modify the `port` in `package.json` scripts or `.env`.

---
*Generated by Developer Guild - 2026*
